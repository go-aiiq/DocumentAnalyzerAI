<div class="dual-view-container" #dataPanel>
  <div class="viewer-panel">
    <div class="pdf-frame">
      <!-- <ng-container *ngIf="loading; else showPdf">
        <div class="loader">
          <mat-spinner diameter="40"></mat-spinner>
        </div>
      </ng-container> -->

      <div style="min-height: 100%;">
        <iframe *ngIf="currentPdf"
                [src]="currentPdf"
                width="100%" height="100%"
                style="border: none;">
        </iframe>
        <p *ngIf="!currentPdf" class="empty-message">Loading Document......</p>
      </div>
    </div>
  </div>

 <div class="data-panel">
  <!-- <ng-container *ngIf="dataLoading; else showForm">
    <div class="loader-container">
      <mat-spinner diameter="40"></mat-spinner>
      <p class="loading-text">Extracting data from document...</p>
    </div>
  </ng-container> -->

  <div>
    <ng-container *ngIf="extractedData">
      <h3>Extracted Data</h3>
      <mat-divider></mat-divider>

      <form>
        <ng-container *ngFor="let key of extractedKeys()">
          <mat-form-field appearance="fill" class="field">
            <mat-label>{{ formatLabel(key) }}</mat-label>
            <textarea matInput  [(ngModel)]="formData[key]" rows="2" name="{{key}}"></textarea>
          </mat-form-field>
        </ng-container>

        <div class="actions">
          <button mat-stroked-button color="primary" (click)="formData = {}">
            Reset Changes
          </button>
          <button mat-raised-button color="primary" (click)="handleSubmit(filePath)">
            Save Changes
          </button>
          
        </div>
      </form>
    </ng-container>
  </div>
  </div>
</div>